{"version":3,"sources":["js/03-feedback.js"],"names":["refs","emailInput","document","querySelector","firstElementChild","children","messageInput","formInput","formData","inputData","messageData","previousFormData","JSON","parse","localStorage","getItem","console","log","error","value","formInputHandler","event","setItem","stringify","addEventListener"],"mappings":";AA2BA,MAAMA,EAAO,CACTC,WAAYC,SAASC,cAAc,kBAAkBC,kBAAkBC,SAAS,GAChFC,aAAcJ,SAASC,cAAc,mBAAmBE,SAAS,GAAGA,SAAS,GAC7EE,UAAUL,SAASC,cAAc,oBAG/BK,EAAW,CACbC,UAAU,GACVC,YAAY,IAEhB,IAAIC,EAEH,IACGA,EAAmBC,KAAKC,MAAMC,aAAaC,QAAQ,wBACnDC,QAAQC,IAAIN,GACd,MAAOO,GACLF,QAAQC,IAAIC,GAEVP,EAAiBF,WAAaE,EAAiBD,cAChDV,EAAKC,WAAWkB,MAAQR,EAAiBF,UACzCT,EAAKM,aAAaa,MAAQR,EAAiBD,aAGhD,MAAMU,EAAoBC,IACtBb,EAASC,UAAYT,EAAKC,WAAWkB,MACrCX,EAASE,YAAcV,EAAKM,aAAaa,MACzCL,aAAaQ,QAAQ,sBAAuBV,KAAKW,UAAUf,IAC3DQ,QAAQC,IAAIT,EAASC,WACrBO,QAAQC,IAAIT,EAASE,cAGzBV,EAAKO,UAAUiB,iBAAiB,QAASJ","file":"03-feedback.b9ea3870.js","sourceRoot":"../src","sourcesContent":["/* В HTML есть разметка формы. Напиши скрипт который будет сохранять значения полей в локальное хранилище \nкогда пользователь что-то печатает.\n\n<form class=\"feedback-form\" autocomplete=\"off\">\n  <label>\n    Email\n    <input type=\"email\" name=\"email\" autofocus />\n  </label>\n  <label>\n    Message\n    <textarea name=\"message\" rows=\"8\"></textarea>\n  </label>\n  <button type=\"submit\">Submit</button>\n</form>\nВыполняй это задание в файлах 03-feedback.html и 03-feedback.js. \n\nРазбей его на несколько подзадач:\n    1. Отслеживай на форме событие input, и каждый раз записывай в локальное хранилище объект с полями email и message, \nв которых сохраняй текущие значения полей формы. Пусть ключом для хранилища будет строка \"feedback-form-state\".\n    2. При загрузке страницы проверяй состояние хранилища, и если там есть сохраненные данные, заполняй ими поля формы. \nВ противном случае поля должны быть пустыми.\n    3. При сабмите формы очищай хранилище и поля формы, а также выводи объект с полями email, message \nи текущими их значениями в консоль.\n    4. Сделай так, чтобы хранилище обновлялось не чаще чем раз в 500 миллисекунд. \nДля этого добавь в проект и используй библиотеку lodash.throttle.\n */\n\nconst refs = {\n    emailInput: document.querySelector('.feedback-form').firstElementChild.children[0],\n    messageInput: document.querySelector('.feedback-form ').children[1].children[0],\n    formInput:document.querySelector('.feedback-form ')\n}\n\nconst formData = {\n    inputData:\"\",\n    messageData:\"\"\n}\nlet previousFormData;\n\n try {\n    previousFormData = JSON.parse(localStorage.getItem(\"feedback-form-state\"));\n    console.log(previousFormData);\n} catch (error) {\n    console.log(error);\n}\n if ((previousFormData.inputData)&&(previousFormData.messageData)) {\n     refs.emailInput.value = previousFormData.inputData;\n     refs.messageInput.value = previousFormData.messageData;\n } \n \nconst formInputHandler = (event) => { \n    formData.inputData = refs.emailInput.value;\n    formData.messageData = refs.messageInput.value;\n    localStorage.setItem(\"feedback-form-state\", JSON.stringify(formData));\n    console.log(formData.inputData);\n    console.log(formData.messageData);\n}\n\nrefs.formInput.addEventListener('input', formInputHandler);\n//console.log(refs.formInput);\n"]}
{"version":3,"sources":["js/02-video.js"],"names":["iframe","document","querySelector","player","Vimeo","Player","timing","continueTime","on","event","seconds","localStorage","setItem","getVideoTitle","then","title","console","log","JSON","parse","getItem","error","setCurrentTime","catch","name"],"mappings":";AA8BA,MAAMA,EAASC,SAASC,cAAc,UAChCC,EAAS,IAAIC,MAAMC,OAAOL,GAEhC,IAAIM,EACAC,EAEJJ,EAAOK,GAAG,aAAc,SAAUC,GAC1BH,EAASG,EAAMC,QACfC,aAAaC,QAAQ,2BAA4BN,KAGrDH,EAAOU,gBAAgBC,KAAK,SAASC,GACjCC,QAAQC,IAAI,SAAUF,KAG1B,IACER,EAAeW,KAAKC,MAAMR,aAAaS,QAAQ,6BAC/CJ,QAAQC,IAAIV,GACZ,MAAOc,GACPL,QAAQC,IAAII,GAGjBlB,EAAOmB,eAAef,GAAcO,KAAK,SAASJ,MAE/Ca,MAAM,SAASF,GACPA,EAAMG","file":"02-video.b0484f54.js","sourceRoot":"../src","sourcesContent":["/*  В HTML есть <iframe> с видео для Vimeo плеера. Напиши скрипт который будет сохранять текущее время\n воспроизведения видео в локальное хранилище и, при перезагрузке страницы, \n продолжать воспроизводить видео с этого времени.\n\n<iframe\n  id=\"vimeo-player\"\n  src=\"https://player.vimeo.com/video/236203659\"\n  width=\"640\"\n  height=\"360\"\n  frameborder=\"0\"\n  allowfullscreen\n  allow=\"autoplay; encrypted-media\"\n></iframe>\n    Выполняй это задание в файлах 02-video.html и 02-video.js. \n    \n    Разбей его на несколько подзадач:\n1. Ознакомься с документацией библиотеки Vimeo плеера.\n2. Добавь библиотеку как зависимость проекта через npm.\n3. Инициализируй плеер в файле скрипта как это описано в секции pre-existing player, \nно учти что у тебя плеер добавлен как npm пакет, а не через CDN.\n4. Разбери документацию метода on() и начни отслеживать событие timeupdate - обновление времени воспроизведения.\n5. Сохраняй время воспроизведения в локальное хранилище. \n    Пусть ключом для хранилища будет строка \"videoplayer-current-time\".\n6. При перезагрузке страницы воспользуйся методом setCurrentTime() для того чтобы возобновить воспроизведение \nс сохраненной позиции.\n7. Добавь в проект бибилотеку lodash.throttle и сделай так, чтобы время воспроизведения обновлялось в хранилище не чаще чем раз в секунду.\n */\n\n//import Player from '@vimeo/player';\n\nconst iframe = document.querySelector('iframe');\nconst player = new Vimeo.Player(iframe);\n\nlet timing;\nlet continueTime;\n\nplayer.on('timeupdate', function (event) {\n        timing = event.seconds;\n        localStorage.setItem(\"videoplayer-current-time\", timing);\n    });\n\n    player.getVideoTitle().then(function(title) {\n        console.log('title:', title);\n    });\n\n    try {\n      continueTime = JSON.parse(localStorage.getItem(\"videoplayer-current-time\"));\n      console.log(continueTime);\n    } catch (error) {\n      console.log(error);\n}\n    \n player.setCurrentTime(continueTime).then(function(seconds) {\n    // seconds = the actual time that the player seeked to\n }).catch(function(error) {\n    switch (error.name) {\n        case 'RangeError':\n            // the time was less than 0 or greater than the video’s duration\n            break;\n\n        default:\n            // some other error occurred\n            break;\n    }\n}); \n"]}